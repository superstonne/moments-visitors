if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(t){const e=this.constructor;return this.then((i=>e.resolve(t()).then((()=>i))),(i=>e.resolve(t()).then((()=>{throw i}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const t=uni.requireGlobal();ArrayBuffer=t.ArrayBuffer,Int8Array=t.Int8Array,Uint8Array=t.Uint8Array,Uint8ClampedArray=t.Uint8ClampedArray,Int16Array=t.Int16Array,Uint16Array=t.Uint16Array,Int32Array=t.Int32Array,Uint32Array=t.Uint32Array,Float32Array=t.Float32Array,Float64Array=t.Float64Array,BigInt64Array=t.BigInt64Array,BigUint64Array=t.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(t){"use strict";const e=(t,e)=>{const i=t.__vccOpts||t;for(const[o,r]of e)i[o]=r;return i};const i=e({methods:{gotoVisitorList(){uni.navigateTo({url:"/pages/visitorList/visitorList"})}}},[["render",function(e,i,o,r,n,a){return t.openBlock(),t.createElementBlock("view",{class:"index"},[t.createElementVNode("view",{class:"button-container"},[t.createElementVNode("button",{class:"circle-button",onClick:i[0]||(i[0]=(...t)=>a.gotoVisitorList&&a.gotoVisitorList(...t))},"查看访客")])])}]]);const o=e({data:()=>({visitorList:[],isLoading:!0}),created(){this.showLoading(),setTimeout((()=>{this.generateVisitorList()}),3e3)},methods:{showLoading(){uni.showLoading({title:"加载中...",mask:!0})},generateVisitorList(){for(let t=0;t<30;t++){const t=this.generateRandomName(),e=this.generateRandomTimestamp();this.visitorList.push({name:t,timestamp:e})}this.visitorList.sort(((t,e)=>e.timestamp-t.timestamp)),this.hideLoading()},hideLoading(){uni.hideLoading(),this.isLoading=!1},generateRandomName(){const t="abcdefghijklmnopqrstuvwxyz";return t[Math.floor(Math.random()*t.length)]+"****"+t[Math.floor(Math.random()*t.length)]},generateRandomTimestamp(){const t=new Date,e=new Date(t.getTime()-864e6);return Math.floor(e.getTime()+Math.random()*(t.getTime()-e.getTime()))},formatVisitorName:t=>t,formatDate(t){const e=new Date(t),i=e.getFullYear(),o=e.getMonth()+1,r=e.getDate(),n=e.getHours(),a=e.getMinutes(),s=e.getSeconds();return`${i}年${o}月${r}日 ${n.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`}},computed:{sortedVisitorList(){return this.visitorList}}},[["render",function(e,i,o,r,n,a){return t.openBlock(),t.createElementBlock("view",{class:"visitor-list"},[t.createElementVNode("view",{class:"title"},"近期访客列表如下："),n.isLoading?t.createCommentVNode("",!0):(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:0},t.renderList(a.sortedVisitorList,((e,i)=>(t.openBlock(),t.createElementBlock("view",{key:i,class:"visitor-item"},[t.createElementVNode("view",{class:"visitor-info"},[t.createElementVNode("text",{class:"visitor-name"},t.toDisplayString(a.formatVisitorName(e.name)),1),t.createElementVNode("text",{class:"visitor-time"},"访问于 "+t.toDisplayString(a.formatDate(e.timestamp)),1)])])))),128))])}],["__scopeId","data-v-b470f36d"]]);function r(t,e,...i){uni.__log__?uni.__log__(t,e,...i):console[t].apply(console,[...i,e])}__definePage("pages/index/index",i),__definePage("pages/visitorList/visitorList",o);const n={onLaunch:function(){r("log","at App.vue:4","App Launch")},onShow:function(){r("log","at App.vue:7","App Show")},onHide:function(){r("log","at App.vue:10","App Hide")}};const{app:a,Vuex:s,Pinia:l}={app:t.createVueApp(n)};uni.Vuex=s,uni.Pinia=l,a.provide("__globalStyles",__uniConfig.styles),a._component.mpType="app",a._component.render=()=>{},a.mount("#app")}(Vue);
